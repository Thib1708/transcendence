{% extends 'base.html' %}

{% block css %}
{% load static %}
<link rel="stylesheet" href="{% static 'users_app/css/style.css' %}">
{% endblock %}

{% block title %}
Sign up
{% endblock %}

{% block content %}

{% if request.user.is_authenticated %}

<p>You are already connected, please log out before creating a new user.</p>
<a href="/sign_out">
	<button>Log out</button>
</a>

{% else %}

<div class="form-div">
	<form method="POST" novalidate class="sign-form">
		{% csrf_token %}
		<h3 class="sign-title">Sign up</h3>
		{{form.as_p}}

		{% for message in messages %}
		<div class="error-alert">
			<a data-dismiss="alert">⚠️</a>
			<p>{{ message }}</p>
		</div>
		{% endfor %}

		<input type="submit" value="Sign up" />
	</form>
</div>

{% endif %}

{% endblock %}